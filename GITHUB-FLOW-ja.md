# github flow
このリポジトリは [github flow](https://gist.github.com/Gab-km/3705015) に基づいて管理されています。

## ブランチ命名規則
github flow におけるプルリクエストのブランチの命名規則を以下に示します。

機能種別/派生元リビジョン/機能名

例えば、 Feature/2.2.12-3-g371b837/support-bonding-NIC のようなブランチ名を使用します。

### 機能種別
機能種別には以下のいずれかを指定します。

|機能種別|説明|
|----|----|
|Feature|新機能を実装する場合には機能種別に "Feature" を指定します。|
|Fix|バグ修正を行う場合には機能種別に "Fix" を指定します。|
|Docs|ドキュメント、サンプルを修正する場合には機能種別に "Docs" を指定します。|

### 機能名
機能名は短い英文です。空白の代わりにハイフン(-)を使用します。


## 手順
以下に修正を main ブランチにマージする手順を示します。

1. ブランチの作成
```shell
git checkout -b ブランチ名
```
2. 修正&テスト
1. ステージング
1. commit
1. push
1. プルリクエストの作成

> 手順5. を実行後、Web で [リポジトリ](https://github.com/procube-open/hive-builder)を参照すると、"Your recent pushed branch" としてブランチが表示されているので、「Compare & pull request」ボタンをクリックしてください。

7.  レビューと修正

> レビューによりプルリクエストを修正する必要が生じた場合は、ローカルリポジトリを修正してpushしてください。すなわち、手順 2. から 5. を繰り返し実施してください。push すると自動的に pull request に組み込まれるので、 Web 上の[Pull requests](https://github.com/procube-open/hive-builder/pulls)から自分のプルリクエストを開き、コメントを入力することで議論を続行してください。

> プリリクエストの名前は自動的にブランチ名から作成されますが、先頭に[]で囲んで機能種別を追加してください。

> 修正を複数人で行う場合はブランチをそれぞれのローカルリポジトリに pull するして修正してください。

8. マージ
> レビューが終わったプルリクエストは「Squash and merge」をクリックしてマージしてください。
9. ローカルリポジトリのブランチの削除
```shell
git branch -D ブランチ名
```
10. リポジトリのブランチの削除
> マージが終わったプルリクエストを Web で開き、「Delete branch」をクリックしてブランチを削除してください。
